---
title: (KR) 함수형코딩 | 15-타임라인 격리하기
author: mangodm
date: 2022-08-02 11:33:00 +0800
categories: [CS, functional-programming]
tags: [kr, grokking-simplicity]
math: true
---

에릭 노먼드의 [쏙쏙 들어오는 함수형 코딩](http://www.yes24.com/Product/Goods/108748841) 15장을 읽고, 정리한 페이지

---

# 15. 타임라인 격리하기

- 타임라인 다이어그램(timeline diagram)은 시간에 따른 코드의 액션 순서를 시각적으로 표시한 것
- 소프트웨어의 동작을 이해하고, 버그를 진단하고, 예측하는데 도움을 줌.

## 타임라인 다이어그램 그리기

- 액션을 확인하기: 숨어있는 액션까지 잘 찾아서 모든 액션을 타임라인에 표시해야 함.
    - 짧고 쉽게 쓰기를 하게 해주는 연산자(++, +=)는 하나의 액션처럼 생겼으나, 실제로는 복합적인 액션
        
        ```jsx
        // 세 단계로 이루어진 total ++;
        var temp = total; // 읽기(액션)
        temp = temp + 1;  // 더하기(계산)
        total = temp;     // 쓰기(액션)
        ```
        
    - 인자는 함수에 전달되기 전에 실행됨.
        
        ```jsx
        // 두 단계로 이루어진 console.log(total);
        var temp = total;
        console.log(temp);
        ```
        
- 액션을 그리기: 액션은 순서대로 실행되거나, 동시에 실행될 수 있음.
    - 두 액션이 순서대로 나타나면 하나의 타임라인에 표현함.
        - 순서대로 실행되지만, 순서가 섞일 수 있는 코드와 그렇지 않은 경우가 존재함.
    - 동시에 실행되거나, 순서를 예상할 수 없다면 분리된 타임라인으로 표현함.
        - 실행 가능한 순서(possible ordering)가 여러 개인 경우 문제가 될 수 있기 때문에 이를 예상할 수 있어야 함.
        - 여러 원인(e.g. 비동기 콜백, 프로세스, 스레드, 분산 환경)으로 코드의 실행 순서가 달라지기 때문에 이를 이해하고 있는 것이 중요함.
- 타임라인을 단순하게 만들기
    - 순서가 섞이지 않는 두 액션은 하나의 박스로 합침.
    - 타임라인 끝에서 새로운 타임라인이 하나만 생긴다면, 하나로 합침.
    - 순서에 제약이 있는 경우 점선을 추가함.

## 타임라인 간 자원 공유는 최소화하기

- 서로 다른 타임라인에서 자원을 공유(e.g. 같은 전역변수 사용)하면 의도하지 않은 문제가 생길 수 있음.
- 공유하는 자원을 없애거나, 없애기 어려운 경우에는 타임라인을 조율하는 등의 방법을 사용해야 함.

## 용어 정리

- AJAX: 비동기 방식으로 데이터를 주고 받기 위해 개발된 자바스크립트 기술